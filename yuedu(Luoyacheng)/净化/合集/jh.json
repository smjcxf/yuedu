[
  {
    "excludeScope": "",
    "group": "修正",
    "id": 1666257509865,
    "isEnabled": true,
    "isRegex": true,
    "name": "🌈修正错字",
    "order": -134,
    "pattern": "(?<=[什怎那要多这干])幺|幺(?=？)|(?<![不山])阿(?=[。！])|[莿変伱𫔯𩠌⻉⻅⻮]|嗯️️️",
    "replacement": "@js:\n//“嗯️️️”需要特殊对待\nzk = {\n '幺': '么',\n '阿': '啊',\n '莿': '刺',\n '変': '变', \n '伱': '你',\n '𫔯': '斗',\n '𩠌': '送',\n '⻉': '贝',\n '⻅': '见',\n '⻮': '齿',\n '嗯️️️': '嗯'\n};\nzk[result]",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": false,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "修正",
    "id": 1716805642220,
    "isEnabled": true,
    "isRegex": true,
    "name": "🌈认定为词语的处理",
    "order": -123,
    "pattern": "教[~\\n]师|时[~\\n]空|挨[~\\n]操|强[~\\n]暴|[一二三四五六七八九十][~\\n]个",
    "replacement": "@js:\nresult.replace(/\\r?\\n\\s{0,8}|[~]/,'')",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": false,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "修正",
    "id": 1720098807309,
    "isEnabled": true,
    "isRegex": true,
    "name": "尝试修正错字",
    "order": -114,
    "pattern": "初次(?=下策)|(?<=一来.{1,19}，)而来|版(?=主任)|(?<=收为)努力|(?<=插.{0,3}[你我她]的)小学|一个個|(?<=送走.{2,4})滞后(?=，)|(?<=[外])阻|阻(?=[道茎部蒂毛唇])|王(?=[♥])",
    "replacement": "@js:\nzk = {\n'初次': '出此',\n'而来': '二来',\n'版': '班', \n'努力': '奴隶',\n'小学': '小穴',\n'一个個': '一个个',\n'滞后': '之后',\n'阻': '阴',\n'王': '干'\n};\nzk[result]",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": false,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "修正",
    "id": 1723710206051,
    "isEnabled": true,
    "isRegex": true,
    "name": "🌈修正英语符号",
    "order": -110,
    "pattern": "(?<=\\p{sc=Han}…?|[。？！])\n{0}(?:[,?!;:]+|:\\ ?\"|(?<=[\"“][^\"“\\n]{0,69})[?!~]*(?:[?!。？！…~]|\\.{3,6})\"|\\.{3,7}\\?|\\.{1,2}…\\.{1,2})\\ ?\n{0}(?=\\p{sc=Han}|[\\n“”【】…]|[~.]+”)|\n{0}[“\"][?!][\"”]|\n{0}(?<=[“])[?!]+(?=[”])|\n{0}(?<=吧)\\.(?=\\p{sc=Han})",
    "replacement": "@js:\nzk = {\n',': '，',\n'?': '？',\n'!': '！',\n';': '；',\n'.': '。',\n':': '：',\n'~': '～',\n':\"': '：“',\n'?\"': '？”',\n'!\"': '！”',\n'。\"': '。”',\n'？\"': '？”',\n'！\"': '！”',\n'…\"': '…”',\n'...\"': '…”',\n'....\"': '…”',\n'.....\"': '……”',\n'......\"': '……”',\n'...': '…',\n'....': '…',\n'.....': '……',\n'......': '……',\n'.......': '……',\n'.….': '……',\n'.…..': '……',\n'..….': '……',\n'..…..': '……',\n'~\"': '~”',\n'\"?\"': '“？”',\n'“?\"': '“？”',\n'\"?”': '“？”',\n'“?”': '“？”',\n'\"!\"': '“！”',\n'“!\"': '“！”',\n'\"!”': '“！”',\n'“!”': '“！”'\n};\nlet sz = result.replaceAll(' ','').match(/(?:[:?!。？！…~]|\\.{3})\"|\\.{3,7}|\\.{1,2}…\\.{1,2}|[“\"][?!][\"”]|[,?!;.\\:~]/g);\nlet i = 0;\nfor (let char of sz) {\nsz[i] = zk[char];\ni++;\n}\nsz.join('');\n//\"▲\"+result+\"▼\"",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": false,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "修正",
    "id": 1730564004405,
    "isEnabled": true,
    "isRegex": true,
    "name": "🌈引号和换行错误",
    "order": -101,
    "pattern": "(?<=\\n\\s{0,6}[^“\"”\\n]{0,69}|“.{1,139}”.{0,39}|：)[\"”][^“\"”\\n]*(?:[。？！~～…呢啊吧]|[一-ꀀ][.?!—]+)[“\"”][^“\"”\\n]{0,99}\\r?\\n|(?<=\\n\\s{0,6}|：)“[^“\"”\\n]*(?:[。？！~～…呢啊吧]|[一-ꀀ][.?!—]+)[\"“][^“\"”\\n]{0,99}\\r?\\n|(?<=\\n\\s{0,6}|”[^“\"”]{0,99})\"[^“\"”\\n]*(?:[。？！~～…呢啊吧]|[一-ꀀ][.?!—]+)”|\"[一-ꀀ]{1,4}\"|\n{0}(?<=[、“‘「])\\r?\\n\\s{0,8}(?=[一-ꀀ])|(?<=[。？！])\\r?\\n\\s{0,8}(?=[”」])|\n{0}(?<=(?:\\s{2,8}|\\n|\\G)“?)[\\d一-ꀀ](?:.*[一-ꀀ])?\\r?\\n\\s{0,8}[一-ꀀ]{0,39}[～~，。？！、；’”」】]|，[一-ꀀ]{1,9}\\r?\\n\\s{0,8}[一-ꀀ]|\n{0}第\\d+\\r?\\n\\s{0,8}届|\n{0}(?<=\\n\\s{0,6}|\\G)['‘’][^'‘“”’\\n]+['‘’]",
    "replacement": "@js:\n//规则版本号：0.0.3\n\nif (/^[“\"”]/.test(result) ) {\n//修正引号\nresult.replace(/[“\"”]/, '🌝0').replace(/[“\"”]/, '”').replace('🌝0', '“')\n}\nelse if (/^['‘’]/.test(result) ) {\n//修正单引号\nresult.replace(/['‘’]/, '🌝0').replace(/['‘’]/, '’').replace('🌝0', '‘')\n}\n\nelse if (/^\\r?\\n/.test(result) ) {\n//正则第三四部分，该符号和换行天然不配\n\"\"\n}\n\nelse if (/^[一-ꀀ\\d，]/.test(result) ){\n//“字数，开头，汉字换行汉字\n//特殊情况放过\n/简介|作者|第.{1,6}章|，[男女]，|不[过是]，$/.test(result) ? result : result.replace(/\\n\\s*/, '')\n}\nelse {\"💔出错\"}\n//\"🌈\"+result+\"❤️\"",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": false,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "修正",
    "id": 1708745366353,
    "isEnabled": true,
    "isRegex": true,
    "name": "🌈修正html代码",
    "order": -90,
    "pattern": "&#8226;|\\<BR\\>|&#13434;|&amp;",
    "replacement": "@js:\nzk = {\n'<BR>': '\\n',\n'&#8226;': '•',\n'&#13434;': '㑺',\n'&amp;': '&'\n};\nzk[result]",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": true,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "修正",
    "id": 1619421126360,
    "isEnabled": false,
    "isRegex": true,
    "name": "🌈补充换行(下)",
    "order": 215,
    "pattern": "：[“「\"][^“「\"」”\\n]+[？！。…～][\"」”](?![\\n，。他她它说时])(?=[^\\n]{9})|\n{0}.*[“「][^“「\"」”\\n]+[？！。…～][”」][一-ꀀ]{1,6}[说道问]。.*",
    "replacement": "@js:\nif (result.startsWith(\"：\")) {\nresult+=\"\\n\";\n}\nelse {\nresult=result.replace(/([”」].{1,6}[说道问]。)(?![\\n他她它“「])(?=[^\\n]{9})/,\"$1\\n\").replace(/[”」][“「]/,'”\\n“');\n}",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": false,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "修正",
    "id": 1708190124566,
    "isEnabled": true,
    "isRegex": true,
    "name": "🌈将拆分字合并",
    "order": 236,
    "pattern": "舌忝|火包|氵显|马叉虫|氵朝|又又飞|月匈|氵润|(?<!玉)米青(?!豆)|(?<![此这那小少妇义孝仙二儿侄孙处])女干(?![脆部部员净哭柴爹])|银(?=[妇荡])|尸比(?=股)",
    "replacement": "@js:\nswitch (result) {\ncase \"舌忝\":\"舔\";break;\ncase \"火包\":\"炮\";break;\ncase \"氵显\":\"湿\";break;\ncase \"马叉虫\":\"骚\";break;\ncase \"银\":\"淫\";break;\ncase \"氵朝\":\"潮\";break;\ncase \"又又飞\":\"双飞\";break;\ncase \"月匈\":\"胸\";break;\ncase \"氵润\":\"湿润\";break;\ncase \"女干\":\"奸\";break;\ncase \"米青\":\"精\";break;\ncase \"尸比\":\"屁\";break;\ndefault:\"『error』\"\n}\n//result+\"😂\"",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": false,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "修正",
    "id": 1725341757482,
    "isEnabled": true,
    "isRegex": true,
    "name": "🌈单引号",
    "order": 271,
    "pattern": "“([^\\n“\"”\\']*)\\'([^\\n“\"”']+)\\'([^\\n“\"”']*)”",
    "replacement": "“$1‘$2’$3”",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": false,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "修正",
    "id": 1743211343045,
    "isEnabled": true,
    "isRegex": true,
    "name": "🌈修正其它符号",
    "order": 273,
    "pattern": "[，。”\\n]注；|，\\n，",
    "replacement": "@js:\nresult.replace(/；$/,'：').replace(/^.\\n.$/,'')",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": false,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "拼音",
    "id": 1733284669859,
    "isEnabled": true,
    "isRegex": true,
    "name": "🌈拼音处理",
    "order": -124,
    "pattern": "(?i)[一-ꀀ，。？！；“\"”…\\n\\u3000](?:yu仙yu死|(?:[bpmfdtnlgkhjqxrzcsyw]|zh|ch|sh)[iuvü]?(?:[aoeiuvü]|ai|ei|ui|ao|ou|iu|ie|er|ve|üe|an|en|in|un|vn|ün|ang|eng|ing|ong)[一-ꀀ，。？！；“\"”…]{1,2}|\n{0}(?:ai|loli|guitou|jiba|saoxue|huaxin|naizi|yindang|shejing|shejin|chaochui|chiluo|chiluoluo|choucha|yuwang|shenyin|tunbu|shuangru|jingye|neiyi|toushi|shufu|hundan|saobi|roubang|rufang|rutou|yinmao|mixue|qiaotun|naitou|jingzi|yindao|nenxue|yinshui|yinyu|gangmen|juru|piyan|haoru|saoxue|feitun|feix[ui]e|gaochao|jiaoqu|sichu|aifu|tiaojiao|fumei|ziwei|juwu|tiaodou|dajiba|tongti|dongxi|zhiye|chusheng|jibacha|dagui头|大jb,?)[一-ꀀ，。？！；“\"”…])+",
    "replacement": "@js:\n//规则版本号：0.0.1\n//调试模式开关\nconst ts = 0;\n\n//成语，直接单独处理\r\nconst cy = {\r\n   'yu仙yu死' : '欲仙欲死'\r\n}\n\nlet rr = result.toLowerCase();\n//成语处理\n//keys= [\"yu仙yu死\", \"yu仙yu死2\"]\nlet kys = Object.keys(cy);\nfor (ky of kys) {\n  if (rr.search(ky) ) {\n  rr = rr.replace(ky, cy[ky]);\n  }\n}\n\nconst cyi = cy[rr.substr(1)];\nif (cyi) {\nrr = rr.replace(rr.substr(1), cyi);\n} else {\n\n//非拼音或不处理\nconst sz1 = ['be','me', 'mv', 'live', 'suv','biu','der','do','to','no','lo','go','ko','ho','jo','qo','xo','ro','so','yo'];\n\r\n//错误拼音\r\nconst zk0 = {\r\n    xin_q: ['男', '女'],\r\n    xin: '性',\r\n    xin_h: ['侵', '别', '趣', '关系'],\r\n    tong_q: ['zz'],\r\n    tong: '胴',\r\n    tong_h: ['体'],\r\n    fu_q: ['zz'],\r\n    fu: '妩',\r\n    fu_h: ['媚']\r\n}\r\n\r\nconst zk1 = {\r\n    dai_q: ['网', '借'],\r\n    dai: '贷',\r\n    dai_h: ['款'],\r\n    zhen_q: ['建'],\r\n    zhen: '政',\r\n    zhen_h: ['治', '府'],\r\n    sha_q: ['自', '奸'],\r\n    sha: '杀',\r\n    sha_h: ['人', '害'],\r\n    jiao_q: ['外', '性', '口', '足', '肛', '腋'],\r\n    jiao: '交',\r\n    jiao_h: ['流', '谈'],\r\n    shi_q: ['干'],\r\n    shi: '湿',\r\n    shi_h: ['吻'],\r\n    yan_q: ['美'],\r\n    yan: '艳',\r\n    yan_h: ['照', '福'],\r\n    xin_q: ['春'],\r\n    xin: '心',\r\n    xin_h: ['情'],\r\n    xing_q: ['男', '女'],\r\n    xing: '性',\r\n    xing_h: ['侵', '别', '趣','感','关系'],\r\n    fu_q: ['少', '情', '荡', '淫'],\r\n    fu: '妇',\r\n    fu_h: ['女'],\r\n    yu_q: ['情', '色','所','淫','肉'],\r\n    yu: '欲',\r\n    yu_h: ['望', '火','滴','求','焰','罢','念','情','拒','把','海','仙','坠'],\r\n    yin_q: ['卖'],\r\n    yin: '淫',\r\n    yin_h: ['荡', '水', '贱', '妇'],\r\n    kui_q: ['偷'],\r\n    kui: '窥',\r\n    kui_h: ['视'],\r\n    luan_q: ['捣'],\r\n    luan: '乱',\r\n    luan_h: ['伦'],\r\n    cu_q: ['黑'],\r\n    cu: '粗',\r\n    cu_h: ['长', '大'],\r\n    ai_q: ['做', '错'],\r\n    ai: '爱',\r\n    ai_h: ['抚', '惜'],\r\n    zhi_q: ['果', '墨'],\r\n    zhi: '汁',\r\n    zhi_h: ['水', '液'],\r\n    gan_q: ['不', '的', '得', '地'],\r\n    gan: '干',\r\n    gan_h: ['小姨', '母亲','情人','冒烟', '爽', '死', '你', '我', '她', '姐', '妹', '成', '了','的'],\r\n    ban_q: ['臀', '花'],\r\n    ban: '瓣',\r\n    ban_h: ['zz'],\r\n    tu_q: ['吞'],\r\n    tu: '吐',\r\n    tu_h: ['息'],\r\n    feng_q: ['zz'],\r\n    feng: '丰',\r\n    feng_h: ['满', '富','腴'],\r\n    dang_q: ['浪', '淫'],\r\n    dang: '荡',\r\n    dang_h: ['漾', '妇'],\r\n    song_q: ['高'],\r\n    song: '耸',\r\n    song_h: ['肩','动'],\r\n    bo_q: ['晨'],\r\n    bo: '勃',\r\n    bo_h: ['起'],\r\n    ju_q: ['zz'],\r\n    ju: '巨',\r\n    ju_h: ['大', '龙'],\r\n    man_q: ['丰'],\r\n    man: '满',\r\n    man_h: ['意', '足'],\r\n    qu_q: ['娇'],\r\n    qu: '躯',\r\n    qu_h: ['体', '干'],\r\n    cheng_q: ['练'],\r\n    cheng: '成',\r\n    cheng_h: ['熟', '功'],\r\n    kua_q: ['摸'],\r\n    kua: '胯',\r\n    kua_h: ['下'],\r\n    mei_q: ['妩'],\r\n    mei: '媚',\r\n    mei_h: ['zz'],\r\n    ding_q: ['光'],\r\n    ding: '腚',\r\n    ding_h: ['zz'],\r\n    chou_q: ['zz'],\r\n    chou: '抽',\r\n    chou_h: ['插', '搐', '烟'],\r\n    fei_q: ['zz'],\r\n    fei: '肥',\r\n    fei_h: ['美', '猪'],\r\n    zuo_q: ['写'],\r\n    zuo: '作',\r\n    zuo_h: ['业', '为'],\r\n    mi_q: ['zz'],\r\n    mi: '靡',\r\n    mi_h: ['乱'],\r\n    chu_q: ['到'],\r\n    chu: '处',\r\n    chu_h: ['女'],\r\n    gao_q: ['zz'],\r\n    gao: '高',\r\n    gao_h: ['耸', '潮', '兴'],\r\n    bao_q: ['吃'],\r\n    bao: '饱',\r\n    bao_h: ['满'],\r\n    ji_q: ['菜'],\r\n    ji: '鸡',\r\n    ji_h: ['巴', '蛋'],\r\n    ren_q: ['男', '女','诱'],\r\n    ren: '人',\r\n    ren_h: ['妻', '性'],\r\n    tiao_q: ['zz'],\r\n    tiao: '挑',\r\n    tiao_h: ['选', '逗'],\r\n    shuo_q: ['壮'],\r\n    shuo: '硕',\r\n    shuo_h: ['果', '大'],\r\n    shui_q: ['淫', '墨'],\r\n    shui: '水',\r\n    shui_h: ['流', '平'],\r\n    fang_q: ['买', '乳'],\r\n    fang: '房',\r\n    fang_h: ['贷', '间'],\r\n    da_q: ['巨'],\r\n    da: '大',\r\n    da_h: ['乳', '小'],\r\n    xiao_q: ['大'],\r\n    xiao: '小',\r\n    xiao_h: ['穴'],\r\n    gui_q: ['乌'],\r\n    gui: '龟',\r\n    gui_h: ['头'],\r\n    yan_q: ['美'],\r\n    yan: '艳',\r\n    yan_h: ['照'],\r\n    chun_q: ['嘴', '阴'],\r\n    chun: '唇',\r\n    chun_h: ['膏'],\r\n    jing_q: ['zz'],\r\n    jing: '精',\r\n    jing_h: ['液', '力', '神'],\r\n    ying_q: ['zz'],\r\n    ying: '硬',\r\n    ying_h: ['度'],\r\n    dong_q: ['zz'],\r\n    dong: '动',\r\n    dong_h: ['作', '力'],\r\n    qing_q: ['爱', '感'],\r\n    qing: '情',\r\n    qing_h: ['人', '侣', '欲'],\r\n    shu_q: ['成'],\r\n    shu: '熟',\r\n    shu_h: ['女', '悉'],\r\n    qun_q: ['短'],\r\n    qun: '裙',\r\n    qun_h: ['角'],\r\n    lin_q: ['蹂'],\r\n    lin: '躏',\r\n    lin_h: ['zz'],\r\n    shou_q: ['zz'],\r\n    shou: '瘦',\r\n    shou_h: ['弱', '小'],\r\n    ru_q: ['母'],\r\n    ru: '乳',\r\n    ru_h: ['房', '头'],\r\n    xue_q: ['上'],\r\n    xue: '学',\r\n    xue_h: ['习', '生'],\r\n    chao_q: ['高', '借'],\r\n    chao: '潮',\r\n    chao_h: ['水','红'],\r\n    wei_q: ['网', '低'],\r\n    wei: '慰',\r\n    wei_h: ['网', '借'],\r\n    yun_q: ['白', '乌'],\r\n    yun: '云',\r\n    yun_h: ['朵'],\r\n    ku_q: ['打'],\r\n    ku: '哭',\r\n    ku_h: ['泣', '诉'],\r\n    hun_q: ['灵', '还'],\r\n    hun: '魂',\r\n    hun_h: ['力'],\r\n    huo_q: ['迷'],\r\n    huo: '惑',\r\n    huo_h: ['zz'],\r\n    jian_q: ['先', '强'],\r\n    jian: '奸',\r\n    jian_h: ['杀', '夫','淫'],\r\n    mang_q: ['流'],\r\n    mang: '氓',\r\n    mang_h: ['zz'],\r\n    zi_q: ['独'],\r\n    zi: '自',\r\n    zi_h: ['摸', '己'],\r\n    qiang_q: ['变'],\r\n    qiang: '强',\r\n    qiang_h: ['制','奸','烈','迫','势'],\n    si_q: ['自'],\r\n    si: '私',\r\n    si_h: ['下','处','聊','信','发','密'],\n    xia_q: ['胯','夸'],\r\n    xia: '下',\r\n    xia_h: ['载','午','班','来','面'],\n    wang_q: ['欲'],\r\n    wang: '望',\r\n    wang_h: ['着','远镜','批准'],\n    su_q: ['zz'],\r\n    su: '酥',\r\n    su_h: ['胸','乳'],\n    chang_q: ['修'],\r\n    chang: '长',\r\n    chang_h: ['度','短'],\n    lu_q: ['裸'],\r\n    lu: '露',\r\n    lu_h: ['出','骨','脸','天','营','水'],\n    min_q: ['zz'],\r\n    min: '敏',\r\n    min_h: ['感','锐'],\n    qi_q: ['勃'],\r\n    qi: '起',\r\n    qi_h: ['zz'],\n    you_q: ['引'],\r\n    you: '诱',\r\n    you_h: ['惑','人','导'],\n    tui_q: ['玉'],\r\n    tui: '腿',\r\n    tui_h: ['上'],\n    ni_q: ['zz'],\r\n    ni: '你',\r\n    ni_h: ['根本'],\n    nie_q: ['zz'],\r\n    nie: '捏',\r\n    nie_h: ['脸','造'],\n    biao_q: ['zz'],\r\n    biao: '婊',\r\n    biao_h: ['子']\r\n};\r\n\n//同音字\r\nconst zk2 = {\r\n    fu_q: ['舒','衣','征','西'],\r\n    fu: '服',\r\n    fu_h: ['用','从','务'],\r\n    yu_q: ['宝'],\r\n    yu: '玉',\r\n    yu_h: ['腿'],\r\n    yin_q: ['光'],\r\n    yin: '阴',\r\n    yin_h: ['蒂', '道', '毛', '阳', '唇'],\r\n    xing_q: ['不'],\r\n    xing: '幸',\r\n    xing_h: ['福', '运'],\r\n    tu_q: ['凹'],\r\n    tu: '凸',\r\n    tu_h: ['显'],\r\n    cha_q: ['察'],\r\n    cha: '察',\r\n    cha_h: ['zz'],\r\n    mei_q: ['鬼'],\r\n    mei: '魅',\r\n    mei_h: ['惑', '力'],\r\n    zuo_q: ['硬'],\r\n    zuo: '座',\r\n    zuo_h: ['位'],\r\n    chu_q: ['输'],\r\n    chu: '出',\r\n    chu_h: ['现', '来'],\r\n    jiao_q: ['zz'],\r\n    jiao: '娇',\r\n    jiao_h: ['躯', '小'],\r\n    xiao_q: ['调'],\r\n    xiao: '笑',\r\n    xiao_h: ['道'],\r\n    dong_q: ['zz'],\r\n    dong: '胴',\r\n    dong_h: ['体'],\r\n    mi_q: ['zz'],\r\n    mi: '秘',\r\n    mi_h: ['密', '书'],\r\n    chun_q: ['单'],\r\n    chun: '纯',\r\n    chun_h: ['洁'],\r\n    jing_q: ['出'],\r\n    jing: '警',\r\n    jing_h: ['察'],\r\n    ru_q: ['侮', '耻'],\r\n    ru: '辱',\r\n    ru_h: ['zz'],\r\n    huo_q: ['欲', '水'],\r\n    huo: '火',\r\n    huo_h: ['焰'],\r\n    gan_q: ['性'],\r\n    gan: '感',\r\n    gan_h: ['觉','谢','受','慨','冒','情'],\r\n    feng_q: ['春'],\r\n    feng: '风',\r\n    feng_h: ['骚','扇','格','险','景'],\r\n    jian_q: ['犯'],\r\n    jian: '贱',\r\n    jian_h: ['货','人']\r\n};\r\n\r\nconst zk3 = {\r\n    mei_q: ['赞'],\r\n    mei: '美',\r\n    mei_h: ['丽', '妇','臀'],\r\n    dong_q: ['黑', '挖'],\r\n    dong: '洞',\r\n    dong_h: ['穴']\r\n};\n\r\nconst zk4 = {\r\n    dong_q: ['zz'],\r\n    dong: '栋',\r\n    dong_h: ['zz']\r\n};\r\n\n//直接替换，不匹配上下文\r\nconst zk5 = {\r\n    cao: '肏',\r\n    sao: '骚',\r\n    xiong: '胸',\r\n    cha: '插',\r\n    ding: '盯',\r\n    kuai: '快',\r\n    zuo: '做',\r\n    wen: '吻',\r\n    chuang: '床',\r\n    shang: '上',\r\n    han: '含',\r\n    shou: '受',\r\n    gen: '根',\r\n    hei: '黑',\r\n    nv: '女',\r\n    nai: '奶',\r\n    luo: '裸',\r\n    xue: '穴',\r\n    tian: '舔',\r\n    yang: '痒',\r\n    bang: '棒',\r\n    she: '射',\r\n    se: '色',\r\n    re: '热',\r\n    shi: '湿',\r\n    kuang: '狂',\r\n    ku: '裤',\r\n    ye: '液',\r\n    lei: '蕾',\r\n    pi: '屁',\r\n    tun: '臀',\r\n    gu: '股',\r\n    qiao: '翘',\r\n    xie: '泄',\r\n    gou: '勾',\r\n    xiu: '修',\r\n    fen: '奋'\r\n};\r\n\r\nconst zk6 = {\r\n    loli: '萝莉',\r\n    guitou: '龟头',\r\n    jiba: '鸡巴',\r\n    saoxue: '骚穴',\r\n    huaxin: '花芯',\r\n    naizi: '奶子',\r\n    yindang: '淫荡',\r\n    shejing: '射精',\r\n    shejin: '射进',\r\n    chaochui: '潮吹',\r\n    chiluo: '赤裸',\r\n    chiluoluo: '赤裸裸',\r\n    choucha: '抽插',\r\n    yuwang: '欲望',\r\n    shenyin: '呻吟',\r\n    tunbu: '臀部',\r\n    shuangru: '双乳',\r\n    jingye: '精液',\r\n    neiyi: '内衣',\r\n    toushi: '透视',\r\n    shufu: '熟妇',\r\n    hundan: '混蛋',\r\n    saobi: '骚逼',\r\n    roubang: '肉棒',\r\n    rufang: '乳房',\r\n    rutou: '乳头',\r\n    yinmao: '阴毛',\r\n    mixue: '蜜穴',\r\n    qiaotun: '翘臀',\r\n    naitou: '奶头',\r\n    jingzi: '精子',\r\n    yindao: '阴道',\r\n    nenxue: '嫩穴',\r\n    yinshui: '淫水',\r\n    yinyu: '淫欲',\r\n    gangmen: '肛门',\r\n    juru: '巨乳',\r\n    piyan: '屁眼',\r\n    haoru: '豪乳',\r\n    saoxue: '骚穴',\r\n    feitun: '肥臀',\r\n    feixue: '肥穴',\r\n    feixie: '肥穴',\r\n    gaochao: '高潮',\r\n    jiaoqu: '娇躯',\r\n    sichu: '私处',\r\n    aifu: '爱抚',\r\n    tiaojiao: '调教',\r\n    wumei: '妩媚',\r\n    fumei: '妩媚',\r\n    ziwei: '自慰',\r\n    juwu: '巨物',\r\n    chajin: '插进',\r\n    tiaodou: '挑逗',\r\n    dajiba: '大鸡巴',\r\n    dongti: '胴体',\r\n    tongti: '胴体',\r\n    dongxi: '东西',\r\n    zhiye: '汁液',\r\n    chusheng: '畜生',\r\n    jibacha: '鸡巴插',\r\n    dagui: '大龟',\r\n    jb: '鸡巴'\r\n};\r\n\r\nlet py = rr.match(/[a-zü]+/g);\r\nlet fd = rr.match(/[a-zü]+|[^a-zü]+/g);\r\n\r\n//console.log('🌈rr:' + rr + '🌈py:' + py + '🌈fd:' + fd)\n//统计失败次数\r\nlet nm = 0;\n//存放失败拼音\nlet mm = [];\n\r\nfor (let i = 0; i < py.length; i++) {\r\n    let pyd = py[i];\r\n    let wz = fd.indexOf(pyd);\r\n    let fdqq = fd[wz - 1];\n    let fdqq_d = fdqq.substr(-1,1);\r\n    let fdhh = fd[wz + 1];\n    let fdhh_d = fdhh.substr(0,1);\n    delete fd[wz];\r\n    let zkqq = pyd + '_q';\r\n    let zkhh = pyd + '_h';\r\n    //判断非正常拼音\r\n    const nopy = sz1.includes(pyd);\r\n    if (!nopy) {\r\n        zk1[pyd] ? j1 = zk1[zkqq].includes(fdqq_d) || zk1[zkhh].includes(fdhh_d) : j1 = false;\r\n        zk2[pyd] ? j2 = zk2[zkqq].includes(fdqq_d) || zk2[zkhh].includes(fdhh_d) : j2 = false;\r\n        zk3[pyd] ? j3 = zk3[zkqq].includes(fdqq_d) || zk3[zkhh].includes(fdhh_d) : j3 = false;\r\n        zk4[pyd] ? j4 = zk4[zkqq].includes(fdqq_d) || zk4[zkhh].includes(fdhh_d) : j4 = false;\r\n        zk5[pyd] ? j5 = true : j5 = false;\r\n        zk6[pyd] ? j6 = true : j6 = false;\r\n        zk0[pyd] ? j0 = zk0[zkqq].includes(fdqq_d) || zk0[zkhh].includes(fdhh_d) : j0 = false;\r\n        j1 = j1 || (zk1[pyd] ?  zk1[zkqq].includes(fdqq) || zk1[zkhh].includes(fdhh) : false);\r\n        j2 = j2 || (zk2[pyd] ?  zk2[zkqq].includes(fdqq) || zk2[zkhh].includes(fdhh) : false);\r\n        j3 = j3 || (zk3[pyd] ?  zk3[zkqq].includes(fdqq) || zk3[zkhh].includes(fdhh) : false);\r\n        j0 = j0 || (zk0[pyd] ?  zk0[zkqq].includes(fdqq) || zk0[zkhh].includes(fdhh) : false);\r\n        if (j1) {\r\n            rr = rr.replace(pyd, zk1[pyd]);\r\n        } else if (j2) {\r\n            rr = rr.replace(pyd, zk2[pyd]);\r\n        } else if (j3) {\r\n            rr = rr.replace(pyd, zk3[pyd]);\r\n        } else if (j4) {\r\n            rr = rr.replace(pyd, zk4[pyd]);\r\n        } else if (j5) {\r\n            rr = rr.replace(pyd, zk5[pyd]);\r\n        } else if (j6) {\r\n            rr = rr.replace(pyd, zk6[pyd]);\r\n        } else if (j0) {\r\n            rr = rr.replace(pyd, zk0[pyd]);\r\n        } else {\n//错误拼音保存，防二次匹配\r\n            mm.push(pyd);\nif (ts) {\nxyx = (zk1[pyd]||'♤')+'💔' + nm + '📌'+(zk2[pyd]||'♤');\n} else {\nxyx = '💔' + nm + '📌';\n}\r\n            rr = rr.replace(pyd, xyx);\r\n            nm++;\r\n        }\r\n    }  else {\n        //非拼音还原大小写\n        let zz = new RegExp(pyd, 'i');\n        let hy = result.match(zz);\n        result = result.replace(hy,'');\n        rr = rr.replace(pyd, hy);\n    }\r\n}\n\r\nnm = 0;\nfor (char of mm) {\n//错误拼音还原大小写\nlet zz = new RegExp(char, 'i');\nlet hy = result.match(zz);\nresult = result.replace(hy,'');\n\nif (ts) {\nrr = rr.replace('💔'+nm+'📌', '💔'+hy+'📌');\n} else {\nrr = rr.replace('💔'+nm+'📌', hy);\n}\n\nnm++;\n}\n\n\n\n\n}\r\n\r\n//console.log('🌈rr:' + rr)\nrr\n//\"🌈\"+rr+\"🌹\"",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": false,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "标题",
    "id": 1730483750367,
    "isEnabled": true,
    "isRegex": true,
    "name": "去除正文中多余的标题",
    "order": -120,
    "pattern": "^第.{1,6}章.{0,29}（(?:.{0,19}(?:月票|盟主|[订更补章]).{0,19}|\\d{2,}|\\d+k)）|第(.{1,6}).章 *第?\\1.章?.{0,19}",
    "replacement": "",
    "scope": "",
    "scopeContent": true,
    "scopeTitle": false,
    "timeoutMillisecond": 3000
  },
  {
    "excludeScope": "",
    "group": "标题",
    "id": 1730471033402,
    "isEnabled": true,
    "isRegex": true,
    "name": "🌈优化目录¹",
    "order": -110,
    "pattern": "[\\s\\S]*(?:[Ａ-Ｚａ-ｚ０-９]|[(（【,?!]|番外|章\\S|[章话集节回][\\u2003\\u3000]|[章话集节回]\\s{2,}|章\\s[章第：、]|篇第|[话集节回卷][：:、]|[一二三四五六七八九十]、[一二三四五六七八九十])[\\s\\S]*|^[^一-ꀀ]+第|^[^一-ꀀ]*[\\d零一二三四五六七八九十][\\s\\S]*|^第[\\d零一二三四五六七八九十百]+花 |^第[一二三四五六七八九]把[零一二三四五六七八九十]{2,3}章",
    "replacement": "@js:\n//规则版本号：0.0.1\n\n//奇葩类标题放过补充第章\nxx=!/^o[rt][2?]$/i.test(result);\nbj1=0;\n\n//处理半角\nif (/[Ａ-Ｚａ-ｚ０-９]/.test(result)&&xx) {\nresult = result.replace(/[Ａ-Ｚａ-ｚ０-９]/g, function (ch) {\nreturn String.fromCharCode(ch.charCodeAt()-65248);})\n}\n\nif (/[(（【,?!]/.test(result)&&xx) {\n// 含括号广告丢弃\nlet t = \"(?:(?:加更.{0,3})?[\\\\d一二三四五六七八九十百千万]{2,}字(?:更新.{0,4})?|\\\\d\\\\.?\\\\d?[Kk].{0,2}|[Kk]章?|.{0,5}[\\\\d一二两三四五六七八九十补加]更\\\\d*|[\\\\d一二两三四五六七八九十补加]更(?:.{0,5}求.{0,9}|送上.{0,9}|.{0,3}补)?|为.{2,15}加更(?:大章|[\\\\d/]+)?|.{0,19}月[初末底]?票.{0,9}|[为给]盟主.{1,19}|感谢.*(?:黄金盟|盟主|打赏).*|向.*书友.*致歉.*|[二三四]合一.{0,3}|卡章补偿|.{0,5}求(?:订阅|首订|推荐|追读|个?票)(?:.{0,9}票)?|粉丝称号评论区参加|新一轮粉丝称号|感谢订阅支持|日万成功|补前天|补一章|[更])?[~！\\\\\\\\]*(?:or2)?\";\nlet zz = new RegExp(`[(（]${t}[）)]|【${t}】`,'g');\nresult = result.replace(zz, \"\");\n//英文符号修正\nresult = result.replace(/\\?$/, '？').replace(/\\!$/, '！').replace(/,(?=[一-ꀀ])/, '，');\n}\n\n// 去除开头的垃圾或0\nif (/^[^一-ꀀA-z（(【〖『「“‘]/.test(result)&&xx) {\nresult = result.replace(/^[^一-ꀀ（(【〖『「“‘\\d]*(?:0+(?=[1-9]))?/, \"\");\n}\n\n// 处理带括号的序号\nif (/^[（(【]/.test(result)&&xx) {\nresult = result.replace(/^[（(【](第?[\\d零一二三四五六七八九十百至]+章?|序章?)[】)）]/, \"$1 \");\n}\n\nif (/^\\d/.test(result)&&xx) {\n    // 纯数字序号，补充第章。特殊处理单“2014”“520小剧场”的情况\n    result = result.replace(/^(20[01237]\\d|\\d+小剧场)$/,'🛴$1').replace(/^(\\d+(?:[\\-～]+\\d+)?)(?:章\\s*)?(?=$|[^\\dA-z岁月号\\.]|\\. ?[一-ꀀ])/, \"第$1章 \").replace('🛴','');\n\n//一种特殊情况的特殊处理“13.<套路>”\nif (/\\</.test(result) ) {\nresult = result.replace(/^(\\d+)\\.\\<([一-ꀀ]+)\\>/,'第$1章 $2');\n}\n\n} \nelse if (/^[零一二三四五六七八九十]/.test(result)&&xx) {\n    // 汉字序号补充第章\n    result = result.replace(/^([零一二三四五六七八九十百千]+(?=[^一-ꀀ]|$|章))(?:章\\s*)?/, \"第$1章 \");\n}\nelse {bj1=1}\n\n//处理话集节回卷的情况\nif (/[话集节回卷](?![一-ꀀ])/.test(result)&&xx) {\nresult = result.replace(/^(第[^话集节回章卷\\s]+[话集节回卷])(?:[：:、]+|\\s{2,})/, \"$1 \");\n}\n\n// 处理章后面的情况，不包含“章 章”的情况\nif (/章/.test(result)&&xx) {\nresult = result.replace(/^((?:第.卷[一-ꀀ\\s]+)?第[^章篇卷部\\s]+章|[终序]章)(?![—-][第\\d])(?:[章])?[，。、：；】·\\.\\:\\s\\u2002\\u2003\\u3000]*(?:[第章]：)?/, \"$1 \").replace('—第','-第');\n}\n\n//处理带篇的异常\nif (/篇第/.test(result)&&xx) {\nresult = result.replace(/^([一-ꀀ]+篇)(第[^章\\s]+章)/, \"$1 $2\");\n}\n\n//美化处理\nif (/番外/.test(result)&&xx) {\nresult = result.replace(/((?:章 |^)番外篇)：?(?=[一-ꀀ])/, '$1·').replace(/^番外、/,'番外·');\n}\n\n//修复错字\nelse if (/^第[^\\s话花章]+花 /.test(result)&&xx&&bj1) {\nresult = result.replace(/花/, '话');}\nelse if (/^第[一二三四五六七八九]把[零一二三四五六七八九]/.test(result)&&xx&&bj1) {\nresult = result.replace(/把/, '百');}\n\n//补全省略序号信息\nif (/、[一二三四五六七八九十]/.test(result)&&xx) {\nresult = result.replace(/^(第)(.?十)([一二三四五六七八九]+)、([一二三四五六七八九])(?=[集章话节])/, '$1$2$3、$2$4');\n}\n\nresult || \"💔净化规则出错\"",
    "scope": "",
    "scopeContent": false,
    "scopeTitle": true,
    "timeoutMillisecond": 9000
  },
  {
    "excludeScope": "",
    "group": "标题",
    "id": 1724287859220,
    "isEnabled": true,
    "isRegex": true,
    "name": "🌈转换目录序号²",
    "order": -108,
    "pattern": "(?<=^\\s{0,8}第)(?:[零一二两三四五六七八九十百千万至、]+(?=[章集])|\\d+[回卷]|0+[1-9]\\d*[章集])",
    "replacement": "@js:\n//规则版本号：0.0.1\n\nif (/[^回卷章集]$/.test(result) ) {\n\nlet sz = {'零': '0', '一': '1', '二': '2', '两': '2', '三': '3', '四': '4','五': '5', '六': '6', '七': '7', '八': '8', '九': '9', '十': '', '百': '', '千': '', '万': '', '0': '0', '1': '1', '、': ',', '至': '-'};\n\nresult=result.replace(/百零(.十)/,\"百$1\").replace(/十$/,\"十0\").replace(/百$/,\"00\").replace(/千$/,\"000\").replace(/千零(?=.$)/,\"0零\").replace(/万$/,\"0000\").replace(/万零(?=.?十)/,\"0零\").replace(/万零(?=.$)/,\"00零\").replace(/(^|[零百、至])十/g,\"$1\"+\"1\");\n\nlet r='';\nfor (let char of result) {\nr+=sz[char];\n}\n\nr=r.replace(/^0+/,'0');\n\n}\nelse if (/[章集]$/.test(result) ) {\nresult.replace(/^0+/,\"\")\n}\nelse {\n\nlet sz = {'0': '零', '1': '一', '2': '二', '3': '三', '4': '四','5': '五', '6': '六', '7': '七', '8': '八', '9': '九', '零': '零', '回': '回', '卷': '卷'},\ndw = {0: '', 1: '十', 2: '百', 3: '千', 4: '万'};\nresult=result.replace(/^0+[回卷]/,'零').replace(/^0+/,'').split('').reverse();\nlet jw=result.shift();\nlet r='';\nlet i=0;\n  for (let char of result) {\n    if (char==0) {\n      if (i!=0) r = sz[char] + r;\n    }\n    else {\n      r = sz[char]+ dw[i]+ r;\n    }\n    i++;\n  }\n\nr=r.replace(/零+/,'零').replace(/^一(?=十)|(.)零$/,'$1')+jw;\n\n}",
    "scope": "",
    "scopeContent": false,
    "scopeTitle": true,
    "timeoutMillisecond": 3000
  }
]
