[
{
  "enabled": true,
  "name": "å“”å“©",
  "showRule": ".search-page@all\n@js:\n//ç‰ˆæœ¬å·:1.0.1\n\nlet key = cache.getFromMemory('blkey');\ncache.deleteMemory('blkey');\nlet url = 'bilibili://search?keyword='+key;\nresult = result.replace(/(https:)?\\/\\/www.bilibili.com\\/video/g,'bilibili://video').replace(/(https:)?\\/\\/space.bilibili.com/g,'bilibili://space').replaceAll(/(https:)?\\/\\/live.bilibili.com/g,'bilibili://live').replace(/https:\\/\\/www.bilibili.com\\/bangumi\\/play\\/ep(\\d+)/g,'bilibili://pgc/season/ep/$1').replace(/https:\\/\\/www.bilibili.com\\/bangumi\\/play\\/ss(\\d+)/g,'bilibili://bangumi/season/$1');\n\nvar aly = new JavaImporter(Packages.org.jsoup.nodes.Element,\nPackages.org.jsoup.Jsoup,\nPackages.org.jsoup.select.Elements);\nwith (aly) {\n// rr = j.select('#b_results');\n// è§£æHTMLæ–‡æ¡£\nresult = Jsoup.parse(result);\nresult.select(\"img\").remove();\nlet bs = '<br><br><br><br><br>ğŸ“º<br><br>';\nresult.select(\".media-card-image\").before(bs);\nresult.select(\".video-list .bili-video-card\").before(bs);\nresult.select(\"a:has(button)\").after(\"ã€€\");\n// æŸ¥æ‰¾æ‰€æœ‰çš„ <a> æ ‡ç­¾\nlet links = result.select(\"a\");\nfor (link of links) {\n// è·å– <h3> æ ‡ç­¾å†…\n let h3 = link.selectFirst(\"h3\");\n  if (h3 != null) {\n   let content = h3.text();\n   //ç§»é™¤ <h3> æ ‡ç­¾\n   link.select(\"h3\").remove();\n   //åˆ›å»ºä¸€ä¸ªæ–°çš„<h3> æ ‡ç­¾\n   let H3 = new Element(\"h3\").appendChild(new Element(\"a\").attr(\"href\", link.attr(\"href\")).text(content));\n    //æ–°<h3> æ’å…¥åˆ°åŸæ¥çš„ä½ç½®\n    link.replaceWith(H3);\n  }\n}\n\n}\n\n\nlet tishi = `<h2>æœç´¢è¯ï¼š<a href=\"${url}\">${key}</a></h2><br>`;\ntishi+result.html();",
  "sortNumber": 2,
  "urlRule": "@js:\ncache.putMemory('blkey',key);\nlet ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36';\n'https://search.bilibili.com/all?keyword='+key+`,{\nheaders:{\n 'user-agent': '${ua}'\n }\n}`"
}
]