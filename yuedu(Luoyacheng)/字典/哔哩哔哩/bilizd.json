[
{
  "enabled": true,
  "name": "哔哩",
  "showRule": ".search-page@all\n@js:\n//版本号:1.0.1\n\nlet key = cache.getFromMemory('blkey');\ncache.deleteMemory('blkey');\nlet url = 'bilibili://search?keyword='+key;\nresult = result.replace(/(https:)?\\/\\/www.bilibili.com\\/video/g,'bilibili://video').replace(/(https:)?\\/\\/space.bilibili.com/g,'bilibili://space').replaceAll(/(https:)?\\/\\/live.bilibili.com/g,'bilibili://live').replace(/https:\\/\\/www.bilibili.com\\/bangumi\\/play\\/ep(\\d+)/g,'bilibili://pgc/season/ep/$1').replace(/https:\\/\\/www.bilibili.com\\/bangumi\\/play\\/ss(\\d+)/g,'bilibili://bangumi/season/$1');\n\nvar aly = new JavaImporter(Packages.org.jsoup.nodes.Element,\nPackages.org.jsoup.Jsoup,\nPackages.org.jsoup.select.Elements);\nwith (aly) {\n// rr = j.select('#b_results');\n// 解析HTML文档\nresult = Jsoup.parse(result);\nresult.select(\"img\").remove();\nlet bs = '<br><br><br><br><br>📺<br><br>';\nresult.select(\".media-card-image\").before(bs);\nresult.select(\".video-list .bili-video-card\").before(bs);\nresult.select(\"a:has(button)\").after(\"　\");\n// 查找所有的 <a> 标签\nlet links = result.select(\"a\");\nfor (link of links) {\n// 获取 <h3> 标签内\n let h3 = link.selectFirst(\"h3\");\n  if (h3 != null) {\n   let content = h3.text();\n   //移除 <h3> 标签\n   link.select(\"h3\").remove();\n   //创建一个新的<h3> 标签\n   let H3 = new Element(\"h3\").appendChild(new Element(\"a\").attr(\"href\", link.attr(\"href\")).text(content));\n    //新<h3> 插入到原来的位置\n    link.replaceWith(H3);\n  }\n}\n\n}\n\n\nlet tishi = `<h2>搜索词：<a href=\"${url}\">${key}</a></h2><br>`;\ntishi+result.html();",
  "sortNumber": 2,
  "urlRule": "@js:\ncache.putMemory('blkey',key);\nlet ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36';\n'https://search.bilibili.com/all?keyword='+key+`,{\nheaders:{\n 'user-agent': '${ua}'\n }\n}`"
}
]