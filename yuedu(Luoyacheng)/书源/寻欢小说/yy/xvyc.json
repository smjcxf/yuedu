[{
  "bookSourceGroup": "ğŸ™ˆ,å¯»æ¬¢",
  "bookSourceName": "ğŸŒˆå¯»æ¬¢å°è¯´",
  "bookSourceType": 0,
  "bookSourceUrl": "https://å¯»æ¬¢å°è¯´.luoyacheng.ip-ddns.com",
  "bookUrlPattern": ".+www.aahhss.com/book/.+|.+www.aaqqcc.com/book/.+|.+www.sseegg.com/cover/.+",
  "customOrder": 21,
  "enabled": false,
  "enabledCookieJar": false,
  "enabledExplore": false,
  "exploreUrl": "@js:\nlet banben=\"1.1.5\";\nlet surl=((source.getLoginInfoMap()||{'ç½‘ç«™åœ°å€':''})['ç½‘ç«™åœ°å€']+''||'https://www.aahhss.com').match(/^http.{4}[^\\/]+/);\nlet webr=java.ajax(surl);\nlet ee=gete('.children ul li a',webr);\nvar sort = [],\nph = (title, url, fg, wrap, fb) => sort.push({\n    \"title\": title,\n    \"url\": '{{'+url+'}}',\n    \"style\": {\n      layout_flexGrow: fg || 1,\n      layout_flexBasisPercent: fb || -1,\n      layout_wrapBefore: wrap ? true : false\n     }\n  });\n\nfor (let char of ee) {\nlet url=surl+char.attr('href');\nif (/category|tag|list/.test(url)) {\n\turl=`\"${url}\"+(page==1?'':'/'+(page-1))`;\n\tph(char.text(), url,1,0,url.includes('category')?0.25:0);\n} else if (/top/.test(url)) {\n\turl=`\"${url}\"+(page==1?'index.html':'index_'+page+'.html')`;\n\tph(char.text(), url,1,0,url.includes('category')?0.25:0);} else {url=`\"${url}\"`;}\n}\nJSON.stringify(sort);",
  "header": "@js:\n(()=>{\n    let u_a=java.getWebViewUA().replaceAll(\"; wv| Version\\/[345].0\",'')+'';\n    let ck=source.getLoginHeader()||'';\n    let headers = {\n    \t\"User-Agent\": u_a,\n    \t\"Cookie\": ck\n    \t };\n    \treturn JSON.stringify(headers);\n})();",
  "jsLib": "function gets(x, r) {\nreturn r==undefined?\nthis.java.getString(x)+'':\nPackages.io.legado.app.model.analyzeRule.AnalyzeRule().getString(x,r)+'';}\nfunction gete(x, r) {\nreturn r==undefined?\nthis.java.getElement(x): Packages.io.legado.app.model.analyzeRule.AnalyzeRule().setContent(r).getElement(x);}\nvar lycurl=((h)=>{\nfor (var i=0,s='';i<h.length;i+=2) s+=String.fromCharCode(parseInt(h.substr(i,2),16));return s;})('68747470733A2F2F67697465652E636F6D2F6C79633438362F7975656475322F7261772F6D61696E2F2545342542392541362545362542412539302F2545352541462542422545362541432541322545352542302538462545382541462542342F79792F787679632E6A736F6E');",
  "lastUpdateTime": 1755353185608,
  "loginUi": "[\n {\n\t\"name\": \"ç½‘ç«™åœ°å€\",\n\t\"type\": \"text\"\n\t},\n {\n\t\"name\": \"æ›´æ–°è¿œç¨‹ä»£ç \",\n\t\"type\": \"button\",\n\t\"action\": \"gxin()\",\n\t\"style\": {\n\t\t\"layout_flexGrow\": 1,\n\t\t\"layout_flexBasisPercent\": -1}\n\t},\n {\n\t\"name\": \"æ›´æ–°ä¹¦æºæœ¬ä½“\",\n\t\"type\": \"button\",\n\t\"action\": \"gengxin()\",\n\t\"style\": {\n\t\t\"layout_flexGrow\": 1,\n\t\t\"layout_flexBasisPercent\": -1}\n\t},\n {\n\t\"name\": \"ç”¨æˆ·å\",\n\t\"type\": \"text\"\n\t},\n {\n\t\"name\": \"å¯†ç \",\n\t\"type\": \"password\"\n\t},\n {\n\t\"name\": \"ğŸ’ç½‘ç«™\",\n\t\"type\": \"button\",\n\t\"action\": \"web()\",\n\t\"style\": {\n\t\t\"layout_flexGrow\": 0,\n\t\t\"layout_flexBasisPercent\": -1,\n\t\t\"layout_wrapBefore\": true}\n\t},\n {\n\t\"name\": \"ğŸ”ºç™»ã€€å½•ğŸ”º\",\n\t\"type\": \"button\",\n\t\"action\": \"Login()\",\n\t\"style\": {\n\t\t\"layout_flexGrow\": 1,\n\t\t\"layout_flexBasisPercent\": -1}\n\t},\n {\n\t\"name\": \"â™¤ç™»å‡º\",\n\t\"type\": \"button\",\n\t\"action\": \"re()\",\n\t\"style\": {\n\t\t\"layout_flexGrow\": 0,\n\t\t\"layout_flexBasisPercent\": -1}\n\t}\n]",
  "loginUrl": "function login(){}\nfunction gxin(){\n\tjava.toast('ç¨ç­‰...');\n\tlet url = java.downloadFile(lycurl);\n\tlet rr = java.readTxtFile(url)+'';\n\tlet r=eval(rr)[0];\n\tr&&cache.putMemory('xhycy',r);\n\tlet banben = rr.match(/let banben=.\"([\\d\\.]+).\"/)[1];\n\tlet url0 = java.base64Decode('aHR0cHM6Ly9naXRlZS5jb20vbHljNDg2L3l1ZWR1Mi9jb21taXRzL21haW4v5Lmm5rqQL+Wvu+asouWwj+ivtC95eS94dnljLmpzb24/YnJvd3Nlcl9oaXN0b3J5PTAmcGFnZT0xJnBlcj0z');\n\tlet rr0=java.get(url0,{'User-Agent': 'Mozilla/5.0 (Linux; Android 14)','X-Requested-With': 'XMLHttpRequest'}).body();\n\tlet \tgxlrr = com.jayway.jsonpath.JsonPath.read(rr0, '$.list[0:4].title');\njava.longToast(`\nğŸ’¡ä»£ç ç‰ˆæœ¬ï¼š${banben}ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\n\nğŸ“æ›´æ–°æ—¥å¿—ï¼šã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\n${Array.from(gxlrr).join(\"\\n\")}`);\n}\n\nlet surl=((source.getLoginInfoMap()||{'ç½‘ç«™åœ°å€':''})['ç½‘ç«™åœ°å€']+''||'https://www.aahhss.com').match(/^http.{4}[^\\/]+/);\n\nfunction web(){\n\tlet url=surl;\n\t//+'/e/member/register/?groupid=1';\n\tlet ck=source.getLoginHeader()+'';\n\tlet cks=ck.split('; ');\n\tcks=cks.map(x=>`document.cookie=\"${x}; path=/\";`).join('\\n');\n\tlet webjs = cks;\n\tjava.webView('<html></html>', surl, webjs);\n\tjava.startBrowser(url,'æ³¨å†Œ');}\n\nfunction Login(){\nlet un = result['ç”¨æˆ·å'];\r\nlet pw = result['å¯†ç '];\nif (un!=''&&pw!='') {\n\tjava.toast('æ­£åœ¨ç™»å½•');\n\tlet url = surl+'/e/member/doaction.php';\n  let body = `ecmsfrom=&enews=login&tobind=0&way=login&lifetime=864000&username=${un}&password=${pw}`;\nlet dlpost=java.connect(url+','+JSON.stringify(\n  \t{\"method\": \"POST\",\n  \t\"body\":body})\n  );\nlet ck=dlpost.headers().values(\"Set-Cookie\");\nlet cks = [];\nfor (let char of ck) {\n\tchar=(char+'').replace(/;.+/,'');\n\tcks.push(char);}\nck=cks.join('; ');\nif (!ck.includes(\"dijcmmluserid\")) {\njava.log(`ç™»å½•é“¾æ¥è¿”å›çš„ckï¼š${ck}`);\nck=cookie.getCookie(url);}\nif (ck.includes(\"dijcmmluserid\")) {\n\tsource.putLoginHeader(ck);\n\tsource.putLoginInfo(JSON.stringify(result));\n\tjava.toast(\"\\nç™»å½•æˆåŠŸï¼ŒğŸ’\");}\n\telse {java.toast(\"\\nç™»å½•å¤±è´¥ï¼ŒğŸ˜¢\");\n\tjava.log(`å¾—åˆ°çš„ckï¼š${ck}`);\n\t}\n} else java.toast(\"ğŸ’”è´¦å·å’Œå¯†ç ä¸èƒ½ä¸ºç©º\");\n}\n\nfunction re(){\n\tlet url = surl+'/e/member/doaction.php?enews=exit&ecmsfrom=9';\n\tjava.toast('ç¨ç­‰');\n\tjava.ajax(url);\n\tjava.log('\\nç”¨æˆ·åï¼š'+result['ç”¨æˆ·å']+'\\nå¯†ç ï¼š'+result['å¯†ç ']);\n\t//æ¶ˆé™¤ç›¸åº”æ•°æ®\r\n    cookie.removeCookie(surl);\n    source.removeLoginHeader();\n    result['ç”¨æˆ·å']=result['å¯†ç ']='';\n    source.putLoginInfo(JSON.stringify(result));\n    java.toast(\"å›åˆ°è®¿å®¢æ¨¡å¼ğŸ”’\");\r\n}",
  "respondTime": 181762,
  "ruleBookInfo": {
    "author": ".authors dd@text||.detail dt:contains(ä½œè€…)~dd a@text",
    "canReName": "1",
    "coverUrl": ".cover img.0@src",
    "intro": "{{\nlet length = 0,\nfuhao = ',.?!:;()[]\"\\'',\ntt='&#10;';\nfor (char of String(book.name)) {\n\tif (fuhao.includes(char)) length += 0.5;\n\telse length++;}\nif (length>18) tt+='ğŸ“™ä¹¦åï¼š'+book.name;\nlet rl=gets('.pornrate dd@text');\nlet zx=gets('.new dd@text');\ntt+`${rl&&('\\nğŸ–è‚‰é‡ï¼š'+rl)}${zx&&('\\nğŸ•°ï¸æœ€æ–°ï¼š'+zx)}`;\n}}\nğŸ—¨ï¸ç®€ä»‹ï¼š\n{{@@.book-desc@textNodes}}",
    "kind": ".categories dd,.status dd@text&&.label a@text&&.tag a@text",
    "lastChapter": ".new dd@text",
    "name": "h1@text",
    "wordCount": ".wordcount dd@text"
  },
  "ruleContent": {
    "content": "<js>\n[19,339].includes(chapter.index)&&java.downloadFile(lycurl);\nlet surl=((source.getLoginInfoMap()||{'ç½‘ç«™åœ°å€':''})['ç½‘ç«™åœ°å€']+''||'https://www.aahhss.com').match(/^http.{4}[^\\/]+/);\nlet rr='';\nlet cid = result.match(/var chapterId = (\\d+);\\s*var isVip = true;/);\nif (cid) {rr=gets('$.newstext',java.ajax(surl+'/e/extend/api/chapter.php?id='+cid[1]));}\nrr||gets('#content@p@text')||(result==41?'æœªæ‰¾åˆ°è¯¥ä¹¦ç›®å½•':'')\n</js>"
  },
  "ruleExplore": {},
  "ruleSearch": {
    "author": "h4+span@text",
    "bookList": ".grid-item||.book-like>a||.list>a",
    "bookUrl": "a@href\n<js>\nlet surl=((source.getLoginInfoMap()||{'ç½‘ç«™åœ°å€':''})['ç½‘ç«™åœ°å€']+''||'https://www.aahhss.com').match(/^http.{4}[^\\/]+/);\nresult.replace(/^http.{4}[^\\/]+/,surl)\n</js>",
    "checkKeyWord": "++https://www.aahhss.com/book/21/",
    "coverUrl": "img@data-src||img@src##^http.+/file##https://static.aahhss.com/file",
    "name": "h3@text||h4@text"
  },
  "ruleToc": {
    "chapterList": ".book-chapter@a\n<js>\nif (result=='')\nresult=[{text:\"ç›®å½•ä¸ºç©º\",href:\"data:;base64,QQ,{\\\"type\\\":\\\"\\\"}\"}];\nelse if (book.getVariable(\"custom\")==\"ä¿®å¤ç« èŠ‚é¡ºåº\") result=Array.from(result).sort((a,b)=>{return a.attr(\"href\").match(/(\\d+)\\D*$/)[1]-b.attr(\"href\").match(/(\\d+)\\D*$/)[1]});\nelse result;\n</js>",
    "chapterName": "text",
    "chapterUrl": "href"
  },
  "searchUrl": "https://www.aakkrr.com/book/{{key}}<,/{{page}}>",
  "weight": 0
}]